{
    "cubes": [
        {
            "name":"facts",
            "dimensions": ["city"],
            "measures": [
                    "amount"
                ],
            "joins": [
                {
                    "master": "facts.id_city",
                    "detail": "dim_city.id",
                    "method": "match"
                }
            ]
        },
        {
            "name":"facts_master",
            "dimensions": ["city"],
            "measures": [
                    "amount"
                ],
            "joins": [
                {
                    "master": "facts.id_city",
                    "detail": "dim_city.id",
                    "method": "master"
                }
            ],
            "fact": "facts"
        },
        {
            "name":"facts_detail_city",
            "dimensions": ["city"],
            "measures": [
                    "amount"
                ],
            "joins": [
                {
                    "master": "facts.id_city",
                    "detail": "dim_city.id",
                    "method": "detail"
                }
            ],
            "fact": "facts"
        },
        {
            "name":"facts_detail_date",
            "dimensions": ["date"],
            "measures": [
                    "amount"
                ],
            "joins": [
                {
                    "master": "facts.id_date",
                    "detail": "dim_date.id",
                    "method": "detail"
                }
            ],
            "fact": "facts"
        },
        {
            "name":"threetables",
            "dimensions": ["date", "city"],
            "measures": [ "amount" ],
            "joins": [
                {
                    "master": "facts.id_date",
                    "detail": "dim_date.id",
                    "method": "match"
                },
                {
                    "master": "facts.id_city",
                    "detail": "dim_city.id",
                    "method": "match"
                }
            ],
            "mappings": {
                "city.country": "dim_country.name"
            },
            "fact": "facts"
        }
    ],
    "dimensions": [
        {
            "name":"date",
            "levels": [
                    {"name":"year"},
                    {"name":"month"},
                    {"name":"day"}
                ]
        },
        {
            "name":"city",
            "levels": [
                    {"name":"name"},
                    {"name":"country"}
                ]
        },
        {
            "name":"country",
            "levels": [
                    {"name":"name"}
                ]
        }
    ]

}
